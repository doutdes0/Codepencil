(this.webpackJsonpcodepencil=this.webpackJsonpcodepencil||[]).push([[0],{141:function(e,t,a){},143:function(e,t,a){},145:function(e,t,a){},146:function(e,t,a){},147:function(e,t,a){},183:function(e,t){},219:function(e,t,a){},220:function(e,t,a){},227:function(e,t,a){},228:function(e,t,a){},251:function(e,t,a){},252:function(e,t,a){},253:function(e,t,a){},254:function(e,t,a){},255:function(e,t,a){},256:function(e,t,a){},257:function(e,t,a){},258:function(e,t,a){},259:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"updateCell",(function(){return R})),a.d(n,"deleteCell",(function(){return A})),a.d(n,"moveCell",(function(){return M})),a.d(n,"insertCell",(function(){return S})),a.d(n,"createBundle",(function(){return U})),a.d(n,"createThread",(function(){return H})),a.d(n,"deleteThread",(function(){return z})),a.d(n,"updateThread",(function(){return F}));var c=a(0),r=a.n(c),s=a(101),i=a.n(s),o=a(12),l=a(4),d=a(26),j=a(22),h=a(104);let b;!function(e){e.UPDATE_CELL="update_cell",e.DELETE_CELL="delete_cell",e.MOVE_CELL="move_cell",e.INSERT_CELL="insert_cell",e.BUNDLE_START="bundle_start",e.BUNDLE_COMPLETE="bundle_complete",e.CREATE_THREAD="create_trhread",e.DELETE_THREAD="delete_thread",e.INITIALIZE_CELLS="initialize_cells",e.UPDATE_THREAD="update_thread"}(b||(b={}));const p=()=>Math.random().toString(36).substring(0,4);var u=a(25);const m={data:{},loading:!1,error:null,order:{}},O=Object(u.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.DELETE_CELL:{const{threadID:a,cellID:n}=t.payload;delete e.data[a][n],e.order[a]=e.order[a].filter((e=>e!==n))}break;case b.UPDATE_CELL:{const{threadID:a,cellID:n,content:c}=t.payload;e.data[a][n].content=c}break;case b.MOVE_CELL:{const{threadID:a,cellID:n,direction:c}=t.payload,r=e.order[a].findIndex((e=>e===n)),s="up"===c?r-1:r+1;if(s<0||s>e.order[a].length-1)return;[e.order[a][r],e.order[a][s]]=[e.order[a][s],e.order[a][r]]}break;case b.INSERT_CELL:{const{threadID:a,cellID:n,type:c}=t.payload,r={content:"",type:c,id:p()};e.data[a][r.id]=r;const s=e.order[a].findIndex((e=>e===n));s<0?e.order[a].unshift(r.id):e.order[a].splice(s+1,0,r.id)}break;case b.INITIALIZE_CELLS:e.data[t.payload]={},e.order[t.payload]=[];break;default:return e}}),m);var x=O;const v={},f=Object(u.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.BUNDLE_START:e[t.payload.id]={loading:!0,code:"",err:""};break;case b.BUNDLE_COMPLETE:e[t.payload.id]={loading:!1,code:t.payload.bundle.code,err:t.payload.bundle.err};break;default:return e}}),v);var w=f;const g={data:{},error:null,loading:!1},E=Object(u.a)((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b.CREATE_THREAD:{const{name:a,description:n,id:c}=t.payload,r={id:c,name:a,description:n};e.data[r.id]=r}break;case b.UPDATE_THREAD:{const{name:a,description:n,id:c}=t.payload;e.data[c].name=a,e.data[c].description=n}break;case b.DELETE_THREAD:delete e.data[t.payload];break;default:return e}}),g);var y=E;var D=Object(j.c)({cells:x,bundles:w,threads:y});const N=Object(j.d)(D,{},Object(j.a)(h.a));var L=a(105);var C=a(292),I=a(106);const T=a.n(I).a.createInstance({name:"fileCache"});let _;var k=async e=>{_||(_=await L.startService({wasmURL:"https://unpkg.com/esbuild-wasm@0.8.27/esbuild.wasm",worker:!0}));try{return{code:(await _.build({entryPoints:["index.js"],bundle:!0,write:!1,plugins:[{name:"unpkg-plugin",setup(e){e.onResolve({filter:/(^index\.js$)/},(e=>({path:e.path,namespace:"a"}))),e.onResolve({filter:/^[a-z]+/i},(async e=>({path:"https://unpkg.com/".concat(e.path),namespace:"a"}))),e.onResolve({filter:/^\.+\//},(async e=>({path:new URL(e.path,"https://unpkg.com"+e.resolveDir+"/").href,namespace:"a"})))}},(t=e,{name:"fetch-plugin",setup(e){e.onLoad({filter:/(^index\.js$)/},(()=>({loader:"jsx",contents:t}))),e.onLoad({filter:/.*/},(async e=>{const t=await T.getItem(e.path);if(t)return t})),e.onLoad({filter:/.css$/},(async e=>{const{data:t,request:a}=await C.a.get(e.path),n=t.replace(/\n/g,"").replace(/"/g,'\\"').replace(/'/g,"\\'"),c={loader:"jsx",contents:"\n        const style = document.createElement('style');\n        style.innerText = '".concat(n,"';\n        document.head.appendChild(style);\n        "),resolveDir:new URL("./",a.responseURL).pathname};return await T.setItem(e.path,c),c})),e.onLoad({filter:/.*/},(async e=>{const{data:t,request:a}=await C.a.get(e.path),n={loader:"jsx",contents:t,resolveDir:new URL("./",a.responseURL).pathname};return await T.setItem(e.path,n),n}))}})],define:{"process.env.NODE_ENV":"'production'",global:"window"},jsxFactory:"_React.createElement",jsxFragment:"_React.Fragment"})).outputFiles[0].text,err:""}}catch(a){if(a instanceof Error)return{code:"",err:a.message};throw a}var t};const R=(e,t,a)=>({type:b.UPDATE_CELL,payload:{threadID:e,cellID:t,content:a}}),A=(e,t)=>({type:b.DELETE_CELL,payload:{threadID:e,cellID:t}}),M=(e,t,a)=>({type:b.MOVE_CELL,payload:{threadID:e,cellID:t,direction:a}}),S=(e,t,a)=>({type:b.INSERT_CELL,payload:{threadID:e,cellID:t,type:a}}),U=(e,t)=>async a=>{a({type:b.BUNDLE_START,payload:{id:e}});const n=await k(t);a({type:b.BUNDLE_COMPLETE,payload:{id:e,bundle:n}})},H=(e,t)=>a=>{const n=p();a({type:b.CREATE_THREAD,payload:{id:n,name:e,description:t}}),a({type:b.INITIALIZE_CELLS,payload:n})},z=e=>({type:b.DELETE_THREAD,payload:e}),F=(e,t,a)=>({type:b.UPDATE_THREAD,payload:{id:e,name:t,description:a}});a(141);var P=a(1);var B=()=>{const[e,t]=Object(c.useState)(!1),a=()=>{window.scrollY>300?t(!0):t(!1)};return Object(c.useEffect)((()=>(window.addEventListener("scroll",a),()=>{window.removeEventListener("scroll",a)})),[]),Object(P.jsx)("div",{className:e?"nav-sticky scrolled":"nav-sticky",children:Object(P.jsxs)("div",{className:"navbar",children:[Object(P.jsx)("div",{className:"logo",children:Object(P.jsx)("h3",{children:"CODEPENCIL"})}),Object(P.jsxs)("ul",{className:"links",children:[Object(P.jsx)("li",{children:Object(P.jsx)(o.a,{to:"/",children:"Home"})}),Object(P.jsx)("li",{children:Object(P.jsx)(o.a,{to:"/threads",children:"Threads"})}),Object(P.jsx)("li",{children:Object(P.jsx)("a",{href:"https://github.com/doutdes0",target:"_blank",rel:"noreferrer",children:"Contacts"})})]})]})})},W=a.p+"static/media/github-logo.0d286971.svg";a(143);var V=()=>Object(P.jsx)("div",{className:"footer",children:Object(P.jsxs)("div",{className:"footer-content",children:[Object(P.jsx)("p",{children:"\xa92023 Codepencil"}),Object(P.jsx)("p",{children:"Artem Gromakov"}),Object(P.jsx)("a",{href:"https://github.com/doutdes0",target:"_blank",rel:"noreferrer",children:Object(P.jsx)("img",{src:W,alt:"github-logo"})})]})});a(144),a(145);var $=()=>Object(P.jsxs)("div",{className:"root-layout",children:[Object(P.jsx)(B,{}),Object(P.jsx)(l.a,{}),Object(P.jsx)(V,{}),Object(P.jsx)(o.b,{})]}),J=a.p+"static/media/showcase1.4a42686b.png",Z=a.p+"static/media/showcase2.e555c050.png";a(146);var q=()=>Object(P.jsxs)(P.Fragment,{children:[Object(P.jsxs)("div",{className:"hero-wrapper",children:[Object(P.jsx)("h2",{children:"Welcome to Codepencil."}),Object(P.jsx)("h4",{children:"A code sandbox."}),Object(P.jsxs)("div",{className:"hero hero-1",children:[Object(P.jsxs)("div",{className:"hero-story",children:[Object(P.jsx)("h3",{children:"Create, build fast and behold the beauty of your work!"}),Object(P.jsxs)("p",{children:["Simply import any package from npm, given it's optimized for in-browser bundling, and you're ready to go. ",Object(P.jsx)("br",{})," We've already preinstalled ",Object(P.jsx)("strong",{children:"React"})," and ",Object(P.jsx)("strong",{children:"ReactDOM"})," ","for you! ",Object(P.jsx)("br",{}),"You don't have to set it up, just use the"," ",Object(P.jsxs)("code",{children:["show","(<App/>)"]})," function to display components and other data types. ",Object(P.jsx)("br",{}),"And, most conviniently, variables from previous codecells can be accessed in following ones."]})]}),Object(P.jsx)("div",{className:"hero-card hero-card-1",children:Object(P.jsx)("div",{className:"hero-showcase",children:Object(P.jsx)("img",{src:J,alt:"editor-showcase"})})})]})]}),Object(P.jsx)("div",{className:"hero-wrapper",children:Object(P.jsxs)("div",{className:"hero bttm-left-grad",children:[Object(P.jsx)("div",{className:"hero-card hero-card-2",children:Object(P.jsx)("div",{className:"hero-showcase",children:Object(P.jsx)("img",{src:Z,alt:"editor-showcase"})})}),Object(P.jsxs)("div",{className:"hero-story",children:[Object(P.jsx)("h3",{children:"Supply your code with useful notes!"}),Object(P.jsxs)("p",{children:["Writing notes is as easy as creating a README file with the help of inbuilt markdown editor. ",Object(P.jsx)("br",{}),"This way you won't ever lose your train of thought. ",Object(P.jsx)("br",{}),"Now, what are you waiting for? Create your first thread and try out the editors!"]}),Object(P.jsx)(o.a,{to:"/threads",children:Object(P.jsx)("button",{className:"action-btn",children:"Dive in!"})})]})]})})]});const Y=()=>{const e=Object(d.b)();return Object(c.useMemo)((()=>Object(j.b)(n,e)),[e])};a(147);var G=e=>{let{cellID:t,type:a,threadID:n}=e;const{moveCell:r,deleteCell:s}=Y();return Object(P.jsxs)(c.Fragment,{children:[Object(P.jsxs)("div",{className:"action-bar-wrapper",children:[Object(P.jsx)("div",{className:"mark",children:Object(P.jsxs)("span",{className:"icon",children:["code"===a&&Object(P.jsx)("i",{className:"fas fa-code"}),"text"===a&&Object(P.jsx)("i",{className:"fas fa-pencil-alt"})]})}),Object(P.jsx)("button",{title:"Move cell up",onClick:()=>r(n,t,"up"),children:Object(P.jsx)("span",{className:"icon",children:Object(P.jsx)("i",{className:"fas fa-angle-double-up"})})}),Object(P.jsx)("button",{title:"Move cell down",onClick:()=>r(n,t,"down"),children:Object(P.jsx)("span",{className:"icon",children:Object(P.jsx)("i",{className:"fas fa-angle-double-down"})})}),Object(P.jsx)("button",{title:"Delete cell",onClick:()=>s(n,t),children:Object(P.jsx)("span",{className:"icon",children:Object(P.jsx)("i",{className:"fas fa-times"})})})]}),Object(P.jsx)("div",{className:"action-bar-divider"})]})},Q=a(57),K=a.n(Q),X=a(107),ee=a.n(X),te=a(108),ae=a.n(te),ne=a(109),ce=a.n(ne),re=a(110),se=a.n(re);a(219);var ie=e=>{let{initialValue:t,onChange:a}=e;const n=Object(c.useRef)();return Object(P.jsxs)("div",{className:"code-wrapper",children:[Object(P.jsx)("button",{className:"format-btn",onClick:()=>{const e=n.current.getModel().getValue(),t=ee.a.format(e,{parser:"babel",plugins:[ae.a],useTabs:!1,semi:!0,singleQuote:!0});n.current.setValue(t)},children:"Format"}),Object(P.jsx)(K.a,{editorDidMount:(e,t)=>{n.current=t,t.onDidChangeModelContent((()=>{a(e())}));new se.a(window.monaco,ce.a,t).highLightOnDidChangeModelContent((()=>{}),(()=>{}),void 0,(()=>{}))},value:t,className:"code-editor",language:"javascript",theme:"dark",options:{wordWrap:"on",minimap:{enabled:!1},showUnused:!1,folding:!1,lineNumbersMinChars:3,fontSize:16,scrollBeyondLastLine:!1,automaticLayout:!0,colorDecorators:!0,scrollbar:{alwaysConsumeMouseWheel:!1}}})]})};a(220);const oe=" <html>\n<head></head>\n<body>\n  <div id=\"root\"></div>\n  <script>\n  const root = document.getElementById('root');\n  const handleError = (err) => {\n    root.innerHTML = '<div style=\"color:red;font-family: Consolas, Courier New, monospace;background-color:white;\">' + err + '</div>';\n    console.error(err);\n  };\n    window.addEventListener('error', (e) => {\n      e.preventDefault();\n      handleError(e.error)\n    });\n    window.addEventListener('message', (e) => {\n      try {\n        root.innerHTML = '';\n        eval(e.data);\n      } catch (err) {\n        handleError(err);\n      }\n    }, false);\n  <\/script>\n</body>\n</html>";var le=e=>{let{code:t,bundlerErr:a}=e;const n=Object(c.useRef)();return Object(c.useEffect)((()=>{n.current.srcDoc=oe,setTimeout((()=>{n.current.contentWindow.postMessage(t,"*")}),50)}),[t]),Object(P.jsxs)("div",{className:"iframe-wrapper",children:[Object(P.jsx)("iframe",{title:"preview",ref:n,srcDoc:oe,sandbox:"allow-scripts"}),a&&Object(P.jsx)("div",{className:"bundler-error",children:a})]})},de=a(111);a(227);var je=e=>{let{direction:t,children:a}=e;const[n,r]=Object(c.useState)(window.innerWidth),[s,i]=Object(c.useState)(.45*window.innerWidth);let o;return Object(c.useEffect)((()=>{let e;const t=()=>{e&&clearTimeout(e),e=setTimeout((()=>{r(window.innerWidth),s>.45*window.innerWidth&&i(.45*window.innerWidth)}),100)};return window.addEventListener("resize",t),()=>{window.removeEventListener("resize",t)}}),[s]),o="vertical"===t?{className:"resizable-container-v",height:400,width:1/0,resizeHandles:["s"],minConstraints:[1/0,24],maxConstraints:[1/0,1/0]}:{className:"resizable-container-h",height:1/0,width:s,resizeHandles:["e"],minConstraints:[.2*n,1/0],maxConstraints:[.75*n,1/0],onResizeStop:(e,t)=>{i(t.size.width)}},Object(P.jsx)(de.ResizableBox,{...o,children:a})};const he=d.c;a(228);var be=e=>{let{threadID:t,cell:a}=e;const{updateCell:n,createBundle:r}=Y(),s=((e,t)=>he((a=>{const n=a.cells.data[e],c=a.cells.order[e].map((e=>n[e])),r=["\n        import _React from 'react';\n        import _ReactDOM from 'react-dom';\n        const _root = _ReactDOM.createRoot(root);\n        const show = (val) => {\n          if(typeof val === 'object') {\n            if(val.$$typeof && val.props) {\n              _root.render(val);\n            } else {\n            root.innerHTML = JSON.stringify(val);\n            }\n          } else {\n            root.innerHTML = val;\n          }\n        }\n        "];for(let e of c)if("code"===e.type){if(e.id===t){r.push(e.content);break}{const t=/show(.*)/g;r.push(e.content.replace(t,""))}}return r.join("\n")})))(t,a.id);Object(c.useEffect)((()=>{if(!i)return void r(a.id,a.content);const e=setTimeout((async()=>{r(a.id,s)}),1e3);return()=>{clearTimeout(e)}}),[a.id,s,r]);const i=he((e=>e.bundles[a.id]));return Object(P.jsx)(P.Fragment,{children:Object(P.jsx)(je,{direction:"vertical",children:Object(P.jsxs)("div",{className:"codecell",children:[Object(P.jsx)(je,{direction:"horizontal",children:Object(P.jsx)(ie,{onChange:e=>n(t,a.id,e),initialValue:a.content})}),(!i||i.loading)&&Object(P.jsx)("div",{className:"spinner-wrapper",children:Object(P.jsx)("div",{className:"loading-spinner"})}),i&&Object(P.jsx)(le,{code:i.code,bundlerErr:i.err})]})})})},pe=a(60);a(251);var ue=e=>{let{threadID:t,cell:a}=e;const{updateCell:n}=Y(),[r,s]=Object(c.useState)(!1),i=Object(c.useRef)(null);return Object(c.useEffect)((()=>{const e=e=>{i.current&&e.target&&!i.current.contains(e.target)&&s(!1)};return document.addEventListener("click",e,{capture:!0}),()=>{document.removeEventListener("click",e,{capture:!0})}}),[]),r?Object(P.jsx)("div",{ref:i,children:Object(P.jsx)("div",{className:"editor-wrapper",children:Object(P.jsx)(pe.a,{value:a.content,height:.6*window.innerHeight,onChange:e=>n(t,a.id,e||"")})})}):Object(P.jsx)("div",{onClick:()=>s(!0),children:Object(P.jsx)("div",{className:"md-wrapper",children:Object(P.jsx)(pe.a.Markdown,{source:a.content||"Click me to edit"})})})};var me=e=>{let{threadID:t,cell:a}=e;return Object(P.jsxs)(P.Fragment,{children:[Object(P.jsx)(G,{cellID:a.id,type:a.type,threadID:t}),"code"===a.type&&Object(P.jsx)(be,{cell:a,threadID:t}),"text"===a.type&&Object(P.jsx)(ue,{cell:a,threadID:t})]})};a(252);var Oe=e=>{let{threadID:t,nextCellID:a,forceVisible:n}=e;const{insertCell:c}=Y();return Object(P.jsxs)("div",{className:"add-cell-wrapper ".concat(n?"force-visible":""),children:[Object(P.jsx)("div",{className:"divider"}),Object(P.jsx)("button",{title:"Add codecell",onClick:()=>c(t,a,"code"),children:Object(P.jsx)("span",{className:"icon",children:Object(P.jsx)("i",{className:"fas fa-code"})})}),Object(P.jsx)("button",{title:"Add textcell",onClick:()=>c(t,a,"text"),children:Object(P.jsx)("span",{className:"icon",children:Object(P.jsx)("i",{className:"fas fa-pencil-alt"})})})]})};a(253);var xe=e=>{let{threadID:t}=e;const{name:a,description:n}=he((e=>e.threads.data[t]));return Object(P.jsxs)("div",{className:"title-wrapper",children:[Object(P.jsx)("h2",{children:a}),Object(P.jsx)("p",{children:n})]})};a(254);var ve=()=>{const e=Object(l.k)(),{threadID:t}=e.state,a=he((e=>e.cells.order[t].map((a=>e.cells.data[t][a]))));return Object(P.jsxs)("div",{className:"cell-list-wrapper",children:[Object(P.jsx)(xe,{threadID:t}),0===a.length&&Object(P.jsx)(Oe,{forceVisible:0===a.length,nextCellID:null,threadID:t}),a.map((e=>Object(P.jsxs)(c.Fragment,{children:[Object(P.jsx)(me,{cell:e,threadID:t},e.id),Object(P.jsx)(Oe,{nextCellID:e.id,threadID:t})]},e.id)))]})};a(255);var fe=e=>{let{thread:{name:t,description:a,id:n}}=e;const c=Object(l.m)(),{deleteThread:r}=Y();return Object(P.jsxs)("div",{onClick:()=>c("/cellList",{state:{threadID:n}}),className:"thread-item-wrapper",children:[Object(P.jsx)("h3",{children:t}),a&&Object(P.jsx)("p",{children:a}),Object(P.jsxs)("div",{className:"action-buttons",children:[Object(P.jsx)("button",{onClick:e=>(e=>{e.stopPropagation(),c("/add-updThread",{state:{threadID:n,name:t,description:a}})})(e),title:"Edit thread",children:Object(P.jsx)("span",{className:"icon",children:Object(P.jsx)("i",{className:"fas fa-sm fa-pencil-alt"})})}),Object(P.jsx)("button",{title:"Delete thread",onClick:e=>{e.stopPropagation(),r(n)},children:Object(P.jsx)("span",{className:"icon",children:Object(P.jsx)("i",{className:"fas fa-times"})})})]})]})};a(256);var we=()=>{const e=Object(l.m)();return Object(P.jsx)("div",{onClick:()=>e("/add-updThread"),className:"add-thread-item-wrapper",children:Object(P.jsx)("div",{className:"icon-wrapper",children:Object(P.jsx)("span",{className:"icon",children:Object(P.jsx)("i",{className:"fas fa-plus fa-3x fa-fade"})})})})};a(257);var ge=()=>{const e=he((e=>{let{threads:{data:t}}=e;return Object.values(t)}));return Object(P.jsxs)("div",{className:"thread-list-wrapper",children:[Object(P.jsx)(we,{}),e.map((e=>Object(P.jsx)(c.Fragment,{children:Object(P.jsx)(fe,{thread:e},e.id)},e.id)))]})};a(258);var Ee=()=>{const{createThread:e,updateThread:t}=Y(),a=Object(l.m)(),n=Object(l.k)(),{threadID:r,name:s,description:i}=n.state?n.state:{threadID:null,name:null,description:null},[o,d]=Object(c.useState)(s||""),[j,h]=Object(c.useState)(i||"");return Object(P.jsx)("div",{className:"add-thread-wrapper",children:Object(P.jsxs)("form",{onSubmit:c=>(c=>{c.preventDefault(),n.state?t(r,o,j):e(o,j),a("/threads")})(c),children:[Object(P.jsx)("label",{htmlFor:"name",children:"Name"}),Object(P.jsx)("input",{onChange:e=>d(e.target.value),id:"name",type:"text",value:o,autoComplete:"off",maxLength:60}),Object(P.jsx)("label",{htmlFor:"description",children:"Description"}),Object(P.jsx)("textarea",{onChange:e=>h(e.target.value),id:"description",value:j,cols:40,rows:10,maxLength:600}),Object(P.jsxs)("div",{className:"button-wrapper",children:[Object(P.jsx)("button",{type:"submit",children:n.state?"Update":"Create"}),Object(P.jsx)("button",{name:"discard",onClick:()=>a("/threads"),children:n.state?"Discard changes":"Discard"})]})]})})};const ye=i.a.createRoot(document.getElementById("root")),De=Object(o.c)([{path:"/",element:Object(P.jsx)($,{}),children:[{path:"/",element:Object(P.jsx)(q,{})},{path:"/threads",element:Object(P.jsx)(ge,{})},{path:"/cellList",element:Object(P.jsx)(ve,{})},{path:"/add-updThread",element:Object(P.jsx)(Ee,{})}]}],{basename:"/Codepencil"});ye.render(Object(P.jsx)(r.a.StrictMode,{children:Object(P.jsx)(d.a,{store:N,children:Object(P.jsx)(l.c,{router:De})})}))}},[[259,1,2]]]);
//# sourceMappingURL=main.1d62563b.chunk.js.map